name: Environment_Config

on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main
    workflow_dispatch:

jobs:
    Job1:
        runs-on: ubuntu-latest
        env:
            Environment: Development
        steps:
            - name: Development Stage
              run : echo "$StageEnv"
              env:
                 StageEnv: Development_Env
   
    Job2:
        runs-on: ubuntu-latest
        env:
            Environment: Staging
        steps:
           - name: Staging Stage
             run : echo "$StagingEnv"
             env:
                 StagingEnv: " $env:StagingEnv "
                 ENVIRONMENT: ${{ env.StagingEnv }}
                
    Job3:

        runs-on: ubuntu-latest
        environment: ${{ github.event.inputs.TARGET_ENV || 'description' }}
        name: Show Values
        steps:
             - name: Environment
               run: |
                echo ENVIRONMENT_NAME = ${{ env.ENVIRONMENT_NAME }}
                echo Server vars as env = ${{ env.Server }}

               