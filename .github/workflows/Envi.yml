name: Environment_Config ðŸš€

on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main
    workflow_dispatch:

jobs:
    Job1:
        runs-on: ubuntu-latest
        environment: ${{ github.event.inputs.TARGET_ENV || 'Development' }}
        name: Create Dev Environment
        steps:
             - name: DEV ENVIRONMENT
               run: |
                echo ENVIRONMENT_NAME = ${{ env.ENVIRONMENT_NAME }}
                echo Server vars as env = ${{ env.Server }}

    Job2:
        runs-on: ubuntu-latest
        environment: ${{ github.event.inputs.TARGET_ENV || 'Staging' }}
        name: Create Staging Environment
        steps:
             - name: Staging Environment
               run: |
                echo ENVIRONMENT_NAME = ${{ env.ENVIRONMENT_NAME }}
                echo Server vars as env = ${{ env.Server }}

                
    Job3:

        runs-on: ubuntu-latest
        environment: ${{ github.event.inputs.TARGET_ENV || 'Production' }}
        name: Create Production Environment
        steps:
             - name: Production Environment
               run: |
                echo ENVIRONMENT_NAME = ${{ env.ENVIRONMENT_NAME }}
                echo Server vars as env = ${{ env.Server }}

    Job4:

        runs-on: ubuntu-latest
   
        name: Production Secret
        steps:
            - name: Print certificate
              run: echo "$ {{ secrets.BASE64_CERTIFICATE }}  " | base64 --decode