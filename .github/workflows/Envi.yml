name: Environment_Config

on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main
    workflow_dispatch:

jobs:
    Job1:
        runs-on: ubuntu-latest
        env:
            Environment: Development
        steps:
            - name: Development Stage
              run : echo "$StageEnv"
              env:
                 StageEnv: Development_Env
   
    Job2:
        runs-on: ubuntu-latest
        env:
            Environment: Staging
        steps:
           - name: Staging Stage
             run : echo "$StagingEnv"
             env:
                 StagingEnv: " $env:StagingEnv "
                 ENVIRONMENT: ${{ env.StagingEnv }}
                
    Job3:
        runs-on: ubuntu-latest
        env:
             Environment: $ {{ github.TARGET_ENV || 'des' }}
             name: Show vars
        steps:
             - name: Prod Stage
               run :  echo "Dev_ENV=$(echo $GITHUB_SHA | cut -c 1-6)" >> $GITHUB_ENV
             - name: Test
               run: echo $Dev_ENV 
             - name: Test2
               run: echo $ {{ env.Dev_ENV }}
               