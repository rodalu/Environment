name: Environment_Config

on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main
    workflow_dispatch:

jobs:
    Job1:
        runs-on: ubuntu-latest
        env:
            Environment: Development
        steps:
            - name: Development Stage
              run : echo "$StageEnv"
              env:
                 StageEnv: Development_Env
   
    Job2:
        runs-on: ubuntu-latest
        env:
            Environment: Staging
        steps:
           - name: Staging Stage
             run : echo "$StagingEnv"
             env:
                 StagingEnv: " $env:StagingEnv "
                 ENVIRONMENT: ${{ env.StagingEnv }}
                
    Job3:
        runs-on: ubuntu-latest
        env:
             Environment: $ {{ github.TARGET_ENV || 'des' }}
             name: Show vars
        steps:
             - name: Prod Stage
               run :  echo "GITHUB_SHA_SHORT=$(echo $GITHUB_SHA | cut -c 1-6)" >> $GITHUB_ENV
              
          
               