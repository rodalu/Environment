name: Environment_Config ðŸš€

on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - main
    workflow_dispatch:

jobs:
    Job1:
        runs-on: ubuntu-latest
        environment: ${{ github.event.inputs.TARGET_ENV || 'Development' }}
        name: Create Dev Environment
        steps:
             - name: DEV ENVIRONMENT
               run: |
                echo ENVIRONMENT_NAME = ${{ env.ENVIRONMENT_NAME }}
                echo Server vars as env = ${{ env.Server }}

    Job2:
        runs-on: ubuntu-latest
        environment: ${{ github.event.inputs.TARGET_ENV || 'Staging' }}
        name: Create Staging Environment
        steps:
             - name: Staging Environment
               run: |
                echo ENVIRONMENT_NAME = ${{ env.ENVIRONMENT_NAME }}
                echo Server vars as env = ${{ env.Server }}

                
    Job3:

        runs-on: ubuntu-latest
        environment: ${{ github.event.inputs.TARGET_ENV || 'Production' }}     
        name: Create Production Environment
        steps:
             - name: Production Environment
               run: |
                echo ENVIRONMENT_NAME = ${{ env.Production }}
                echo Server vars as env = ${{ env.Server }}
                echo Server vars as env = ${{ secrets.GITHUB_TOKEN }}

    Job4:
  
        runs-on: ubuntu-latest
        env: 
            platform: MySecret
            TEST_SECRET: ${{ secrets.GITHUB_TOKEN }}
        name: Production Secret
        steps:
            - name: Test Variable
              if: ${{ env.platform == 'MySecret' }}
              run: |
                  echo ${#TEST_SECRET}
                  echo ' ${{ env.platform == 'MySecret' }} '
                  echo Server vars as env = ${{ secrets.GITHUB_TOKEN }}
                  TEST_SECRET: ${TEST_SECRET}
                  TEST_SECRET: mysecret
              

            